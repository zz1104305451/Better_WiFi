# Better_WiFi ![](https://i.imgur.com/nCXU68a.png)

# Abstract
在无线信道受到不同程度衰落的无线网络环境，有效的链路选择和信道编码可以获得可靠的传输。然而现有的无线通信策略并没有意识到不同的子载波在传输过程中经历了不同的衰落。

我们提供了一种新的通信策略，根据信道环境的不同来匹配不同的通信方案，从而提高通信的可靠性和吞吐量。

- 我们首先分析了weak子载波在信道中的分布情况，并用LIBSVM工具包对子载波的好坏进行分类，而且我们可以获得reliable subcarriers占据总子载波的个数
- 我们提出智能的mapper技术，将重要的信息放在 reliable subcarriers 上传输，这样可以大幅度降低误码率并且提高总的吞吐量。
- 我们利用CSI信息，分析了reliable subcarriers占据总子载波的比例R，当R值取不同情况时，我们采用不同的编码率来提高吞吐量。

我们使用WARP来进行硬件实验来评估我们的方法。我们的结果证明了我们方案是可行的。将重要信息放在reliable subcarriers上带来的误码率从10^-1可以提升到10^-5，在不同R值下调整编码率可以提高吞吐量30%-65%；此外将这两项技术放在一起可以得到更低的误码率和更高的吞吐量增益。

# 
我们框架如下所示 
![](https://i.imgur.com/6VL5tpk.jpg)


目前，ISM的频带十分拥挤，充斥着各种协议的信号，一些无线协议(例如802.11 a/g/n)为了达到更高的吞吐量，在物理层设计中使用了OFDM技术。以802.11a为例，OFDM将频谱资源组织为多个子载波，在2.4G的ISM频段，20MHz的无线信道被划分为64个正交子载波，每个子载波的带宽为312.5KHz，如下图所示。每个子载波并行的传输了预分配的独立符号，使用正交调幅技术QAM来传输数据，64个子载波的负荷信号称为OFDM符号，在802.11a/g/n中，OFDM符号的持续时间为4us，且搭配了800ns的防护时间以避免码间干扰。  
![](https://i.imgur.com/P8BJHRE.jpg)
![](https://i.imgur.com/taRfGTc.jpg)


## 实验场景
我们的实验场景有4处，第一处是在无人的长走廊，第二处是正常的办公室，里面有办公桌和书柜，也有一些无线路由设备和手机终端。第三处是在楼梯间，第四处是在相邻的两个办公室内，发送器和接收器分别放置在不同的办公室内，接收器和发送器之间有一堵墙隔离。前三处我们考虑的是视距场景，最后一处我们考虑了非视距的场景。
![](https://i.imgur.com/KxrQPqh.jpg)
![](https://i.imgur.com/XfzKB6v.jpg)

## 子载波的状态
![](https://i.imgur.com/pjw1h3P.jpg)
![](https://i.imgur.com/WxzzopQ.jpg)

## 子载波分类准确性
我们使用了LIBSVM工具包进行我们的分类过程，我们的实验在四种不同的环境下分别进行了5000组实验，其中每个环境下前4000组实验数据用作训练我们的SVM模型，剩余1000组实验数据作为我们的测试精准度，我们发现在视距环境下，子载波的精准度可以达到90%以上，而室内环境的精准度可以达到97%以上；非视距情况下，因为突发变化太多，子载波的精准度较低，但仍然可以达到86%以上。
![](https://i.imgur.com/RYlMgsG.jpg)



## 我们的方案
### 信息的重要性不同
传统的PHY-layer FEC对所有的信息使用相同的卷积码，只要遗失或受损的位数不多，FEC系统就可以让接收器检测受损位并加以修复。However，他们没有考虑到不同的子载波受到的干扰程度是不同的，并且不同的符号具有不同的重要性。Smart Mapper结合了频率分集和符号的重要性。下面是一些关于符号重要性的例子。  
- 数据包的包头比负载更重要。
![](https://i.imgur.com/6DUaMpb.png)

- 当使用信道编码后，源数据和冗余数据一起传输，前者更加重要。对于这一部分，因为当发生错误时，只有接收到恢复所需要的冗余码的数量时，才可以进行数据的恢复。
- 信息熵高的符号重要性高于信息熵低的符号，当我们传输一些具体信息时，因为信息之间信息熵的不同，所以所传递的符号的重要性也会相应的不同。所以，如果对于收发双方都已知的一些信息，因为其信息熵低，所以重要性也随之下降，即使丢失了也没有太大关系。
基于以上的观察，我们提出将重要的信号映射到可靠的子载波上。我们的设计，主要考虑前两种场景，因为第三种场景的考虑需要引入额外的知识，处理起来更加复杂。为了实现这种映射关系，我们可能需要跨层的信息。这些可以通过上层标记需要更高级别保护的帧标记比特来实现。

### 子载波的映射
802.11中每个信道的数据部分传输由48个数据子载波完成，基本上每个信道的吞吐量就是48个数据子载波的数据流之和。在传输过程中，所接收到的编码位流必须映射到正确的子载波上，802.11a使用的是一组交错规则，而不是使用简单的轮询调度算法(Round-Robin Scheduling)来轮流将位映射到子载波。具体来说，调度算法需要完成两项工作，第一项是确保依次传送的位会被分散至相隔较远的子载波，第二项是确保依次传送的位映射至不同的星座点。

### 速率自适应
802.11b/g建议的速率
![](https://i.imgur.com/OcxNbP5.png)
我们提出的速率自适应
![](https://i.imgur.com/D3ATWI9.jpg)

## 实验的结果分析
### 实验设置
我们的实验平台基于Wireless Open-Access Research Platform (WARP)，它是一个与WiFi PHY / MAC层完全集成的无线研究平台，实验使用了两台WARP_V3节点，分别用于接收和发送数据，两个节点由PC端控制，分别为不同节点配置工作模式。

### 不同编码率下的误比特率
![](https://i.imgur.com/XDGEokN.jpg)
- 信道质量我们用好子载波占总子载波比例来衡量，当信道状况不好是，即weak子载波的数量较多时，BER值较高，随着weak子载波的数量减少，BER值越来越低。
- 编码率越小，传输过程中BER越小，因为编码率低，添加的冗余位多，FEC系统可以更有效的恢复受损位。
- 虽然在相同的R值下，但室内的BER仍然比走廊和非视距的情况要好，原因是其他环境信道状态复杂，子载波发生突变错误的概率稍高。

### 符号映射的误比特率
在不同信噪比下，可靠子载波上的信号BER要远远低于弱子载波。
![](https://i.imgur.com/1nQVgp1.jpg)

### 不同环境下吞吐量的变化
无线局域网的吞吐量是指在单位时间内信道上被成功传输的信息量大小。无线通信以数据包的形式进行，由于存在干扰，所以传输过程中数据包中一位或者多位数据可能被破坏。
![](https://i.imgur.com/GN0Md3m.jpg)


### 距离对吞吐量的影响
![](https://i.imgur.com/SNWuucy.jpg)
